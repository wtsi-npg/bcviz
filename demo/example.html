<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Bamcheck demo</title>
        <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <link rel="stylesheet" type="text/css" href="/css/myStyle.css">
        <script type="text/javascript" src="/js/dotPlot.js"></script>
        <script type="text/javascript" src="/js/qualityChart.js"></script>
        <script type="text/javascript" src="/js/rainbowvis.js"></script>
        <script type="text/javascript" src="/js/indelDist.js"></script>
        <script type="text/javascript" src="/js/coverage.js"></script>
        <script type="text/javascript" src="/js/GCDepth.js"></script>
        <script type="text/javascript" src="/js/readBCfile.js"></script>
    </head>
	<body>

		<script>
			var i = 0;
			var split = false;
			var points = [];
			points.push(formatData(readFile("sample_1.bc")));
			points.push(formatData(readFile("sample_2.bc")));
			points.push(formatData(readFile("sample_3.bc")));
			points.push(formatData(readFile("sample_4.bc")));
			//for (var i = 0; i <= points.length - 1; i++) {
				//qualityChart(points[graphCount][2],'#svg1');
				//splitICchart(points[i], '#svg3');
				//isChart(points[i], '#svg4');
				//gcChart(points[i], '#svg5');
				//gccChart(points[i], '#svg6');
				//indelDist(points[i], '#svg7');
				//gcDepth(points[i], '#svg8');
				//coverage(points[i], '#svg9');
			//}
			function drawGraph () {
				d3.selectAll("svg").remove();
				if(i >= points.length){
					i = 0;
				}
				if(i < 0){
					i = points.length - 1;
				}
				icChart(points[i])
				splitICchart(points[i]);
				isChart(points[i]);
				gcChart(points[i]);
				gccChart(points[i]);
				indelDist(points[i]);
				gcDepth(points[i]);
				coverage(points[i]);
			}
			$(window).keydown(function (e) {
				if(e.which === 188){
					i--;
					drawGraph();
				}
				if(e.which === 190){
					i++;
					drawGraph();
				}
			})
			drawGraph();
		</script>
	</body>
</html>